include(@CMAKE_BINARY_DIR@/CDash/Common.ctest)

ctest_start(Nightly)

ctest_update(SOURCE "${CTEST_SOURCE_DIRECTORY}")

set_property(GLOBAL PROPERTY SubProject "Release")
set(CTEST_CONFIGURATION_TYPE            "Release")
ctest_configure(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_build(BUILD "${CTEST_BINARY_DIRECTORY}" TARGET "clean")
ctest_build(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_test(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_memcheck(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_submit(PARTS Update Configure Build Test MemCheck)

set_property(GLOBAL PROPERTY SubProject "Debug")
set(CTEST_CONFIGURATION_TYPE            "Debug")
ctest_configure(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_build(BUILD "${CTEST_BINARY_DIRECTORY}" TARGET "clean")
ctest_build(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_test(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_memcheck(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_coverage(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_submit(PARTS Update Configure Build Test MemCheck Coverage)

set_property(GLOBAL PROPERTY SubProject "CodingConventions")
set(CTEST_BUILD_TARGET                  "CodingConventions")
ctest_build(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_submit(PARTS Update Build)

set_property(GLOBAL PROPERTY SubProject "Doxygen")
set(CTEST_BUILD_TARGET                  "Doxygen")
ctest_build(BUILD "${CTEST_BINARY_DIRECTORY}")
ctest_submit(PARTS Update Build)
